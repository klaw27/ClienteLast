{"version":3,"sources":["webpack:///./src/app/pages/mapa-ubicacion/mapa-ubicacion.module.ts","webpack:///./src/app/pages/mapa-ubicacion/mapa-ubicacion.page.html","webpack:///./src/app/pages/mapa-ubicacion/mapa-ubicacion.page.scss","webpack:///./src/app/pages/mapa-ubicacion/mapa-ubicacion.page.ts"],"names":[],"mappings":"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","file":"pages-mapa-ubicacion-mapa-ubicacion-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { MapaUbicacionPage } from './mapa-ubicacion.page';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule\r\n  ],\r\n  declarations: [MapaUbicacionPage]\r\n})\r\nexport class MapaUbicacionPageModule {}\r\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>Confirma direcci√≥n</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n  <ion-progress-bar *ngIf=\\\"load\\\" type=\\\"indeterminate\\\"></ion-progress-bar>\\r\\n\\r\\n  <h6 class=\\\"calle\\\" text-center>{{calle}}</h6>\\r\\n\\r\\n  <div id=\\\"mapa2\\\">\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <ion-button (click)=\\\"guardar()\\\" color=\\\"success\\\" expand=\\\"full\\\" class=\\\"confirmar\\\">Confirmar</ion-button>\\r\\n\\r\\n</ion-content>\\r\\n\"","module.exports = \"#mapa2 {\\n  height: 63%; }\\n\\n.calle {\\n  margin: 40px 0; }\\n\\n.confirmar {\\n  position: fixed;\\n  bottom: 0;\\n  width: 75%;\\n  margin: 0 auto 20px auto;\\n  left: 0;\\n  right: 0; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbWFwYS11YmljYWNpb24vQzpcXFVzZXJzXFxBZG1pbmlzdHJhdG9yXFxEZXNrdG9wXFxDbGllbnRlRmluYWxcXENsaWVudGVMYXN0L3NyY1xcYXBwXFxwYWdlc1xcbWFwYS11YmljYWNpb25cXG1hcGEtdWJpY2FjaW9uLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFdBQVcsRUFBQTs7QUFHZjtFQUNJLGNBQWMsRUFBQTs7QUFHbEI7RUFDSSxlQUFlO0VBQ2YsU0FBUztFQUNULFVBQVU7RUFDVix3QkFBd0I7RUFDeEIsT0FBTztFQUNQLFFBQVEsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL21hcGEtdWJpY2FjaW9uL21hcGEtdWJpY2FjaW9uLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNtYXBhMntcclxuICAgIGhlaWdodDogNjMlO1xyXG59XHJcblxyXG4uY2FsbGV7XHJcbiAgICBtYXJnaW46IDQwcHggMDtcclxufVxyXG5cclxuLmNvbmZpcm1hcntcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIGJvdHRvbTogMDtcclxuICAgIHdpZHRoOiA3NSU7XHJcbiAgICBtYXJnaW46IDAgYXV0byAyMHB4IGF1dG87XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgcmlnaHQ6IDA7XHJcbn0iXX0= */\"","import { Component } from '@angular/core';\r\nimport { NavParams, ModalController } from '@ionic/angular';\r\nimport { EstoreService } from '../../services/estore.service';\r\ndeclare var google;\r\n\r\n@Component({\r\n  selector: 'app-mapa-ubicacion',\r\n  templateUrl: './mapa-ubicacion.page.html',\r\n  styleUrls: ['./mapa-ubicacion.page.scss'],\r\n})\r\nexport class MapaUbicacionPage  {\r\n\r\n  mapa:any;\r\n  marker:any;\r\n  locacion:any;\r\n  calle = \"\";\r\n  ubicacion:any;\r\n  load =  false;\r\n\r\n  constructor(public navParamas: NavParams,\r\n    public estore : EstoreService,\r\n    public modalCtrl: ModalController) { }\r\n\r\n  ionViewWillEnter() {\r\n    this.locacion = this.navParamas.data.location;\r\n    this.loadmap();\r\n    console.log(this.mapa);\r\n  }\r\n\r\n  loadmap(){\r\n    let $mapa = document.getElementById(\"mapa2\");\r\n    console.log($mapa);\r\n\r\n     this.mapa = new google.maps.Map($mapa,{\r\n      disableDefaultUI: true,\r\n      center: {\r\n        lat: this.locacion.lat(),\r\n        lng: this.locacion.lng()\r\n      },\r\n      zoom: 18,\r\n\r\n      });\r\n\r\n      this.marker = new google.maps.Marker({\r\n        position: {\r\n          lat: this.locacion.lat(),\r\n          lng: this.locacion.lng()\r\n        },\r\n        map: this.mapa,\r\n        draggable: true,\r\n        animation: google.maps.Animation.DROP\r\n      });\r\n\r\n      var infowindow = new google.maps.InfoWindow({\r\n        content: \"Arrastrame o da click en el mapa!\"\r\n      });\r\n\r\n      infowindow.open(this.mapa, this.marker);\r\n\r\n      let geocoder = new google.maps.Geocoder();\r\n\r\n      let nombreUbic = geocoder.geocode({'latLng': this.locacion},(results,status)=>{\r\n        if(status == 'OK'){\r\n          this.ubicacion = this.locacion;\r\n          this.calle = this.calle+\"\"+results[0].address_components[1].long_name+\" \"+results[0].address_components[0].long_name+\", \"+results[0].address_components[2].long_name;\r\n        }\r\n      });\r\n\r\n      this.mapa.addListener(\"click\", event=>{\r\n        console.log(event.latLng);\r\n        this.mapa.panTo(event.latLng);\r\n        this.marker.setPosition(event.latLng);\r\n        geocoder.geocode({ 'latLng': event.latLng }, (results, status)=> {\r\n          if(status == 'OK'){\r\n            this.calle = \"\";\r\n            this.ubicacion = event.latLng;\r\n            this.calle = this.calle+\"\"+results[0].address_components[1].long_name+\" \"+results[0].address_components[0].long_name+\", \"+results[0].address_components[2].long_name;\r\n          }\r\n        });\r\n      });\r\n\r\n      this.marker.addListener(\"dragend\", event=>{\r\n        geocoder.geocode({ 'latLng': event.latLng }, (results, status)=> {\r\n          if(status == 'OK'){\r\n            this.calle = \"\";\r\n            this.ubicacion = event.latLng;\r\n            this.calle = this.calle+\"\"+results[0].address_components[1].long_name+\" \"+results[0].address_components[0].long_name+\", \"+results[0].address_components[2].long_name;\r\n          }\r\n        });\r\n        this.mapa.panTo(this.marker.getPosition());\r\n        console.log(this.mapa.getBounds());\r\n\r\n      });\r\n\r\n\r\n    }\r\n\r\n    guardar(){\r\n      let body = {\r\n        lat: this.ubicacion.lat(),\r\n        lng: this.ubicacion.lng(),\r\n        calle: this.calle,\r\n      }\r\n\r\n      this.load = true;\r\n\r\n          this.modalCtrl.dismiss({\r\n            ubicacion: true,\r\n            body: body\r\n          });\r\n\r\n      this.load = false;\r\n    }\r\n\r\n}\r\n"],"sourceRoot":""}