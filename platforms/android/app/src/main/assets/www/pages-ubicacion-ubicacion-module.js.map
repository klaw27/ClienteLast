{"version":3,"sources":["webpack:///./src/app/pages/ubicacion/ubicacion.module.ts","webpack:///./src/app/pages/ubicacion/ubicacion.page.html","webpack:///./src/app/pages/ubicacion/ubicacion.page.scss","webpack:///./src/app/pages/ubicacion/ubicacion.page.ts"],"names":[],"mappings":"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","file":"pages-ubicacion-ubicacion-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { UbicacionPage } from './ubicacion.page';\r\n\r\nimport { ComponentsModule } from '../../components/components.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: UbicacionPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ComponentsModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [UbicacionPage]\r\n})\r\nexport class UbicacionPageModule {}\r\n","module.exports = \"<app-header></app-header>\\r\\n\\r\\n<ion-content padding>\\r\\n\\r\\n  <div *ngIf=\\\"local\\\" class=\\\"animated fadeIn\\\">\\r\\n\\r\\n    <div id=\\\"mapa\\\">\\r\\n  \\r\\n    </div>\\r\\n\\r\\n    <h3 class=\\\"direccion\\\">Conócenos</h3>\\r\\n  \\r\\n    <div class=\\\"informacion\\\">\\r\\n      <div class=\\\"direccion\\\">\\r\\n        <ion-icon name=\\\"compass\\\" class=\\\"icono\\\"></ion-icon>\\r\\n        <p>{{local.colonia}} {{local.callenumero}}, {{local.codigopostal}} {{local.ciudad}}, {{local.estado}}.</p>\\r\\n      </div>\\r\\n      <div class=\\\"horario\\\">\\r\\n        <ion-icon name=\\\"clock\\\" class=\\\"icono\\\"></ion-icon>\\r\\n        <p>{{textoAbierto}}: {{local.horaapertura}} - {{local.horacierre}}</p>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n\\r\\n    <div class=\\\"skell\\\" *ngIf=\\\"!local\\\">\\r\\n\\r\\n        <div class=\\\"mapa\\\">\\r\\n            <ion-skeleton-text animated class=\\\"skell\\\"  style=\\\"width: 100%\\\"></ion-skeleton-text>\\r\\n        </div>\\r\\n        <div class=\\\"tituloSkel\\\">\\r\\n          <ion-skeleton-text animated  style=\\\"width: 40%\\\"></ion-skeleton-text>\\r\\n        </div>\\r\\n        <div class=\\\"direccion\\\">\\r\\n          <ion-skeleton-text animated  style=\\\"width: 8%\\\"></ion-skeleton-text>\\r\\n          <ion-skeleton-text animated  style=\\\"width: 60%\\\"></ion-skeleton-text>\\r\\n        </div>\\r\\n        <div class=\\\"direccion\\\">\\r\\n            <ion-skeleton-text animated style=\\\"width: 8%\\\"></ion-skeleton-text>\\r\\n            <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\r\\n        </div>\\r\\n        <div class=\\\"direccion\\\">\\r\\n            <ion-skeleton-text animated style=\\\"width: 8%\\\"></ion-skeleton-text>\\r\\n            <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\r\\n        </div>\\r\\n    \\r\\n      </div>\\r\\n  \\r\\n    <ion-buttons class=\\\"atras\\\"> \\r\\n        <ion-button size='small' expand=\\\"full\\\" fill=\\\"clear\\\" class=\\\"boton\\\" (click)='salir()'>Atrás</ion-button>\\r\\n    </ion-buttons>\\r\\n\\r\\n\\r\\n</ion-content>\\r\\n\"","module.exports = \"#mapa {\\n  height: 37.5vh; }\\n\\n.informacion div {\\n  display: flex;\\n  justify-content: space-around;\\n  align-items: center; }\\n\\n.informacion div p {\\n  width: 85%;\\n  font-size: .85rem; }\\n\\n.informacion div .icono {\\n  font-size: 1.5rem;\\n  color: #cb1300; }\\n\\n.mapa ion-skeleton-text {\\n  line-height: 35vh; }\\n\\n.skell .direccion, .tituloSkel {\\n  margin: 5px 0;\\n  display: flex; }\\n\\n.direccion ion-skeleton-text:first-child {\\n  margin-right: 10px;\\n  --border-radius: 50%; }\\n\\n.direccion ion-skeleton-text, .tituloSkel ion-skeleton-text {\\n  line-height: 3vh; }\\n\\n.atras {\\n  position: fixed;\\n  bottom: 3%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvdWJpY2FjaW9uL0M6XFxVc2Vyc1xcQWRtaW5pc3RyYXRvclxcRGVza3RvcFxcQ2xpZW50ZUZpbmFsXFxDbGllbnRlTGFzdC9zcmNcXGFwcFxccGFnZXNcXHViaWNhY2lvblxcdWJpY2FjaW9uLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNJLGNBQWMsRUFBQTs7QUFHbEI7RUFDSSxhQUFhO0VBQ2IsNkJBQTZCO0VBQzdCLG1CQUFtQixFQUFBOztBQUd2QjtFQUNJLFVBQVU7RUFDVixpQkFBaUIsRUFBQTs7QUFHckI7RUFDSSxpQkFBaUI7RUFDakIsY0FBYyxFQUFBOztBQUdsQjtFQUNJLGlCQUFpQixFQUFBOztBQUdyQjtFQUNJLGFBQWE7RUFDYixhQUFhLEVBQUE7O0FBR2pCO0VBQ0ksa0JBQWtCO0VBQ2xCLG9CQUFnQixFQUFBOztBQUtwQjtFQUNJLGdCQUFnQixFQUFBOztBQUdwQjtFQUNJLGVBQWU7RUFDZixVQUFVLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy91YmljYWNpb24vdWJpY2FjaW9uLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4jbWFwYXtcclxuICAgIGhlaWdodDogMzcuNXZoO1xyXG59XHJcblxyXG4uaW5mb3JtYWNpb24gZGl2e1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLmluZm9ybWFjaW9uIGRpdiBwe1xyXG4gICAgd2lkdGg6IDg1JTtcclxuICAgIGZvbnQtc2l6ZTogLjg1cmVtO1xyXG59XHJcblxyXG4uaW5mb3JtYWNpb24gZGl2IC5pY29ub3tcclxuICAgIGZvbnQtc2l6ZTogMS41cmVtO1xyXG4gICAgY29sb3I6ICNjYjEzMDA7XHJcbn1cclxuXHJcbi5tYXBhIGlvbi1za2VsZXRvbi10ZXh0e1xyXG4gICAgbGluZS1oZWlnaHQ6IDM1dmg7XHJcbn1cclxuXHJcbi5za2VsbCAuZGlyZWNjaW9uLCAudGl0dWxvU2tlbHtcclxuICAgIG1hcmdpbjogNXB4IDA7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG59XHJcblxyXG4uZGlyZWNjaW9uIGlvbi1za2VsZXRvbi10ZXh0OmZpcnN0LWNoaWxke1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG4gICAgLS1ib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICBcclxufVxyXG5cclxuXHJcbi5kaXJlY2Npb24gaW9uLXNrZWxldG9uLXRleHQsIC50aXR1bG9Ta2VsIGlvbi1za2VsZXRvbi10ZXh0IHtcclxuICAgIGxpbmUtaGVpZ2h0OiAzdmg7XHJcbn1cclxuXHJcbi5hdHJhc3tcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIGJvdHRvbTogMyU7XHJcbn1cclxuXHJcbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { NavController } from '@ionic/angular';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { EstoreService } from '../../services/estore.service';\r\ndeclare var google;\r\n\r\n\r\n@Component({\r\n  selector: 'app-ubicacion',\r\n  templateUrl: './ubicacion.page.html',\r\n  styleUrls: ['./ubicacion.page.scss'],\r\n})\r\nexport class UbicacionPage implements OnInit {\r\n\r\n  id:any;\r\n  local:any;\r\n  hora:any;\r\n  textoAbierto:string = \"\";\r\n\r\n  constructor(public navCtrl: NavController,\r\n    private activatedRoute: ActivatedRoute,\r\n    public estore: EstoreService) { }\r\n\r\n  ngOnInit() {\r\n    this.hora = new Date();\r\n    this.id = this.activatedRoute.snapshot.paramMap.get('id');\r\n    let body = {\r\n      funcion: 'id',\r\n      clientid: this.id\r\n    }\r\n    this.estore.locales(body,\"negocio.php\").subscribe(data=>{\r\n      console.log(this.local);\r\n      this.local = data['local'];\r\n      this.local['latitud'] = parseFloat(this.local['latitud']);\r\n      this.local['longitud'] = parseFloat(this.local['longitud']);\r\n      this.abierto();\r\n      setTimeout(()=>{\r\n        this.loadmap();\r\n      },0);\r\n    });\r\n  }\r\n\r\n  abierto(){\r\n    let horas = this.hora.getHours();\r\n    let minutos = this.hora.getMinutes();\r\n    let horaAperturaLocal = this.local['horaapertura'].split(':');\r\n    let horaCierreLocal = this.local['horacierre'].split(':');\r\n    let hoursApertura = horaAperturaLocal[0];\r\n    let minutosApertura = horaAperturaLocal[1];\r\n    let hoursCierre = horaCierreLocal[0];\r\n    let minutosCierre = horaCierreLocal[1];\r\n    if(hoursApertura == '0') hoursApertura = 24;\r\n    if(hoursCierre == '0') hoursCierre = 24;\r\n    if( horas > hoursApertura){\r\n      this.horaCierre(horas,hoursCierre,minutos,minutosCierre);\r\n    }\r\n    //Si la hora es igual que la hora de apertura\r\n    else if(horas == hoursApertura){\r\n      if(minutos >= minutosApertura){\r\n        //la misma funcion\r\n        this.horaCierre(horas,hoursCierre,minutos,minutosCierre);\r\n      }\r\n      else{\r\n        this.textoAbierto = \"Abre pronto\";\r\n      }\r\n\r\n    }\r\n    else{\r\n     this.textoAbierto = \"Esta Cerrado\";\r\n\r\n    }\r\n\r\n  }\r\n\r\n  horaCierre(horas,hoursCierre, minutos, minutosCierre){\r\n    if(horas < hoursCierre){\r\n      this.textoAbierto = \"Esta Abierto\";\r\n    }\r\n    else if( horas == hoursCierre){\r\n      if(minutos <= minutosCierre){\r\n        this.textoAbierto = \"Cierra Pronto\";\r\n      }\r\n      else{\r\n        this.textoAbierto = \"Esta Cerrado\";\r\n      }\r\n\r\n    }\r\n    else{\r\n      this.textoAbierto = \"Esta Cerrado\";\r\n\r\n    }\r\n\r\n  }\r\n\r\n  loadmap(){\r\n    let $mapa = document.getElementById(\"mapa\");\r\n    console.log($mapa);\r\n    const mapa = new google.maps.Map($mapa,{\r\n      center: {\r\n        lat: this.local['latitud'],\r\n        lng: this.local['longitud']\r\n      },\r\n      zoom: 18,\r\n\r\n      });\r\n\r\n      const marker = new google.maps.Marker({\r\n        position: {\r\n          lat: this.local['latitud'],\r\n          lng: this.local['longitud']\r\n        },\r\n        map: mapa,\r\n        animation: google.maps.Animation.DROP\r\n      });\r\n\r\n      console.log(marker);\r\n\r\n    }\r\n\r\n    salir(){\r\n      this.navCtrl.pop();\r\n      }\r\n    }\r\n\r\n"],"sourceRoot":""}