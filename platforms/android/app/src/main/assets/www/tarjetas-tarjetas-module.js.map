{"version":3,"sources":["webpack:///./src/app/tarjetas/tarjetas.module.ts","webpack:///./src/app/tarjetas/tarjetas.page.html","webpack:///./src/app/tarjetas/tarjetas.page.scss","webpack:///./src/app/tarjetas/tarjetas.page.ts"],"names":[],"mappings":"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","file":"tarjetas-tarjetas-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { TarjetasPage } from './tarjetas.page';\r\nimport { ComponentsModule } from '../components/components.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: TarjetasPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ComponentsModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [TarjetasPage]\r\n})\r\nexport class TarjetasPageModule {}\r\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar color=\\\"danger\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button (click)='salir()'></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Formas de Pago</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-icon class=\\\"iconbuscar\\\" name='search' (click)=\\\"goBuscar()\\\"></ion-icon>\\r\\n      <ion-icon class=\\\"iconcarrito\\\" name='cart' (click)=\\\"goCarrito()\\\"></ion-icon>\\r\\n   </ion-buttons>\\r\\n</ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content padding>\\r\\n    <img src=\\\"/assets/img/EstoCuadro.png\\\" alt=\\\"logo estor\\\" class='logoPrinipal'>\\r\\n    <h3>Mis tarjetas registradas</h3>\\r\\n    <ion-list >\\r\\n      <ion-item *ngFor=\\\"let tarjeta of tarjetas\\\" id=\\\"{{tarjeta.id}}\\\">\\r\\n          <ion-thumbnail slot=\\\"start\\\" class=\\\"thumbnail\\\">\\r\\n              <img src=\\\"/assets/img/card.jpg\\\"  class=\\\"card\\\">\\r\\n          </ion-thumbnail>\\r\\n        <ion-label>\\r\\n            <h6 class=tituloLocal>{{tarjeta.card_number}}</h6>\\r\\n            <p>{{tarjeta.brand}}</p>\\r\\n            <p>Expira: {{tarjeta.expiration_month}}/{{tarjeta.expiration_year}}</p>\\r\\n        </ion-label>\\r\\n        <!--<ion-input type=\\\"text\\\" [(ngModel)]='id_card'>{{tarjeta.id}}</ion-input>-->\\r\\n        <ion-icon name =\\\"trash\\\" slot = \\\"end\\\" (click)= \\\"deleteCardConfirm(tarjeta.id)\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n    </ion-list>\\r\\n\\r\\n    <ion-item>\\r\\n        <ion-icon class=\\\"alert\\\" name=\\\"alert\\\"></ion-icon>\\r\\n      <div class=\\\"nada principal\\\" *ngIf=\\\"tarjetas.length ==0\\\">\\r\\n      <ion-label class=\\\"tituloVacio\\\">\\r\\n        Aún no tienes tarjetas registradas\\r\\n      </ion-label>\\r\\n      </div>\\r\\n  </ion-item>\\r\\n  <ion-button  class=\\\"agregar\\\"  fill = \\\"clear\\\" routerLink=\\\"/add-card\\\">Agregar tarjeta de crédito y débito</ion-button>\\r\\n</ion-content>\\r\\n\"","module.exports = \".card {\\n  width: 150%; }\\n\\n.iconcarrito {\\n  width: 25px;\\n  height: 25px;\\n  margin-right: 15px; }\\n\\n.iconbuscar {\\n  width: 25px;\\n  height: 25px;\\n  margin-right: 10px; }\\n\\n.alert {\\n  color: #332c2cc2; }\\n\\n.tituloVacio {\\n  padding-left: 10px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFyamV0YXMvQzpcXFVzZXJzXFxBZG1pbmlzdHJhdG9yXFxEZXNrdG9wXFxDbGllbnRlRmluYWxcXENsaWVudGVMYXN0L3NyY1xcYXBwXFx0YXJqZXRhc1xcdGFyamV0YXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBVyxFQUFBOztBQUlmO0VBQ0ksV0FBVztFQUNYLFlBQVk7RUFDWixrQkFBa0IsRUFBQTs7QUFHdEI7RUFDSSxXQUFXO0VBQ1gsWUFBWTtFQUNaLGtCQUFrQixFQUFBOztBQUd0QjtFQUNJLGdCQUFnQixFQUFBOztBQUdwQjtFQUNJLGtCQUFrQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvdGFyamV0YXMvdGFyamV0YXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNhcmR7XHJcbiAgICB3aWR0aDogMTUwJTtcclxuXHJcbn1cclxuXHJcbi5pY29uY2Fycml0b3tcclxuICAgIHdpZHRoOiAyNXB4O1xyXG4gICAgaGVpZ2h0OiAyNXB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xyXG59XHJcblxyXG4uaWNvbmJ1c2NhcntcclxuICAgIHdpZHRoOiAyNXB4O1xyXG4gICAgaGVpZ2h0OiAyNXB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG59XHJcblxyXG4uYWxlcnR7XHJcbiAgICBjb2xvcjogIzMzMmMyY2MyO1xyXG59XHJcblxyXG4udGl0dWxvVmFjaW8ge1xyXG4gICAgcGFkZGluZy1sZWZ0OiAxMHB4O1xyXG4gICAgLy9tYXJnaW4tdG9wOiAxNXB4LFxyXG4gICAgfSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl } from '@angular/forms';\r\nimport { AlertController, NavController } from '@ionic/angular';\r\nimport { HttpHeaders, HttpClient } from '@angular/common/http';\r\nimport { Router } from '@angular/router';\r\ndeclare var OpenPay: any;\r\n\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({\r\n    'Content-Type':'application/json'\r\n  })\r\n};\r\n\r\n@Component({\r\n  selector: 'app-tarjetas',\r\n  templateUrl: './tarjetas.page.html',\r\n  styleUrls: ['./tarjetas.page.scss'],\r\n})\r\nexport class TarjetasPage implements OnInit {\r\n \r\n  constructor(public alertController: AlertController,\r\n    public navCtrl: NavController,\r\n    public http: HttpClient,private router : Router) {\r\n   }\r\n  customerOpenid:any ='';\r\n  items:any;\r\n  tarjetas: any;\r\n\r\n\r\n  ngOnInit() {\r\n    //Obtener tarjetas con id de cliente\r\n    this.customerOpenid = {...JSON.parse(localStorage.getItem('userOpen'))};\r\n    let customer_id =  JSON.stringify(this.customerOpenid.id);\r\n    console.log(this.customerOpenid.id);\r\n    return this.http.post(\"https://localhost:5010/api/card/get\",customer_id,httpOptions).subscribe(\r\n      data => {\r\n         console.log(\"Tarjetas guardadas del cliente\");\r\n         this.tarjetas = data;\r\n         console.log(this.tarjetas);\r\n       }, \r\n    error => {\r\n     console.log(error);\r\n   }); \r\n\r\n  }\r\n\r\n  deleteCard(idDeleteCard){\r\n    //let customer_id =  JSON.stringify(this.customerOpenid.id);\r\n    \r\n    let DeleteCard:any = {\r\n      customer_id : this.customerOpenid.id,\r\n      card_id :idDeleteCard\r\n    } \r\n  \r\n    \r\n    console.log(DeleteCard);\r\n    return this.http.post(\"https://localhost:5010/api/card/delete\",JSON.stringify(DeleteCard),httpOptions).subscribe(\r\n      data => {\r\n         console.log(\"Tarjetas eliminada\");\r\n         //this.navCtrl.navigateForward('/tarjetas');\r\n         this.removeCardAlert();\r\n         this.ngOnInit();\r\n         console.log(this.tarjetas);\r\n       }, \r\n    error => {\r\n     console.log(error);\r\n   }); \r\n  }\r\n\r\n  async deleteCardConfirm(id_card) {\r\n    const alert = await this.alertController.create({\r\n      header: 'Confirme acción',\r\n      message: '¿Está seguro que desea eliminar la tarjeta?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancelar',\r\n        }, {\r\n          text: 'Aceptar',\r\n          handler: data => {\r\n          this.deleteCard(id_card);\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n\r\n  \r\n  async removeCardAlert() {\r\n    const alert = await this.alertController.create({\r\n      header: 'Operacion exitosa',\r\n      message: '¡La tarjeta fue eliminada!',\r\n     buttons: [\r\n      {\r\n        text: 'Aceptar',\r\n        handler: data => {\r\n          //this.router.navigateByUrl(`/tarjetas`);\r\n        }\r\n      }\r\n    ]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  goCarrito(){\r\n    this.navCtrl.navigateForward('/carrito');\r\n  }\r\n  \r\n  goBuscar(){\r\n    this.navCtrl.navigateForward(\"/buscar\");\r\n  }\r\n\r\n  salir(){\r\n    this.navCtrl.navigateBack('/metodo-pago');\r\n    //this.navCtrl.navigateBack('/dashboard');\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}