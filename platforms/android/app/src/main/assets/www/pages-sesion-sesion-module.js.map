{"version":3,"sources":["webpack:///./src/app/pages/sesion/sesion.module.ts","webpack:///./src/app/pages/sesion/sesion.page.html","webpack:///./src/app/pages/sesion/sesion.page.scss","webpack:///./src/app/pages/sesion/sesion.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AACU;AAEV;AAEF;AAE3C,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,uDAAU;KACtB;CACF,CAAC;AAWF;IAAA;IAA+B,CAAC;IAAnB,gBAAgB;QAT5B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,YAAY,EAAE,CAAC,uDAAU,CAAC;SAC3B,CAAC;OACW,gBAAgB,CAAG;IAAD,uBAAC;CAAA;AAAH;;;;;;;;;;;;ACzB7B,okCAAokC,OAAO,iX;;;;;;;;;;;ACA3kC,gCAAgC,qCAAqC,EAAE,eAAe,eAAe,mBAAmB,mBAAmB,EAAE,aAAa,oBAAoB,wBAAwB,EAAE,YAAY,8BAA8B,uBAAuB,eAAe,qBAAqB,wBAAwB,qBAAqB,4BAA4B,+BAA+B,EAAE,0BAA0B,uBAAuB,EAAE,kBAAkB,eAAe,gCAAgC,oBAAoB,EAAE,eAAe,eAAe,6BAA6B,oBAAoB,uBAAuB,EAAE,WAAW,uBAAuB,EAAE,UAAU,uBAAuB,qBAAqB,uBAAuB,WAAW,cAAc,gBAAgB,iBAAiB,EAAE,qBAAqB,gBAAgB,qBAAqB,EAAE,YAAY,eAAe,EAAE,+CAA+C,28E;;;;;;;;;;;;;;;;;;;;ACAz2B;AACvB;AACrB;AACQ;AAYjD;IAWE,oBAAmB,MAAqB,EAC9B,MAAe,EAChB,eAAgC,EAC/B,QAAkB;QAHT,WAAM,GAAN,MAAM,CAAe;QAC9B,WAAM,GAAN,MAAM,CAAS;QAChB,oBAAe,GAAf,eAAe,CAAiB;QAC/B,aAAQ,GAAR,QAAQ,CAAU;QAX5B,oBAAoB;QAEpB,aAAQ,GAAM,EAAE,CAAC;QACjB,WAAM,GAAO,EAAE,CAAC;QAChB,UAAK,GAAG,KAAK,CAAC;QACd,aAAQ,GAAG,UAAU,CAAC;IAMU,CAAC;IAGjC,6BAAQ,GAAR;IACA,CAAC;IAED,iCAAY,GAAZ;QACI,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,IAAI,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC;QACrD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,UAAU,CAAC;IAEtE,CAAC;IAGD,4BAAO,GAAP;QAAA,iBAgCC;QA/BC,IAAI,IAAI,GAAE;YACR,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,MAAM,EAAE,IAAI,CAAC,MAAM;SACpB;QAED,IAAI,MAAM,GAAG,sEAAsE,CAAC;QAEpF,IAAG,IAAI,CAAC,MAAM,IAAI,EAAE,IAAI,IAAI,CAAC,QAAQ,IAAI,EAAE;YAC3C,IAAI,CAAC,cAAc,CAAC,iCAAiC,CAAC,CAAC;aAClD,IAAI,IAAI,CAAC,QAAQ,IAAI,EAAE,EAAC;YAC7B,IAAI,CAAC,cAAc,CAAC,uBAAuB,CAAC,CAAC;SAC5C;aAAK,IAAI,IAAI,CAAC,MAAM,IAAI,EAAE,EAAC;YAC5B,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC;SACvC;aAAK,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE;YACtC,IAAI,CAAC,cAAc,CAAC,4BAA4B,CAAC,CAAC;SACjD,CAAC,oDAAoD;aAClD;YACJ,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,EAAE,cAAc,CAAC,CAAC,SAAS,CAAC,UAAC,IAAI;gBAC7D,IAAG,IAAI,CAAC,SAAS,CAAC,IAAI,KAAK,EAAC;oBAC1B,YAAY,CAAC,OAAO,CAAC,MAAM,EAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;oBAC1D,KAAI,CAAC,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;iBACzC;qBACG;oBACF,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;iBAClC;YAEH,CAAC,CAAC,CAAC;SACJ;IAID,CAAC;IACD,mCAAc,GAAd,UAAe,IAAY;QACzB,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;IAC7C,CAAC;IAEK,mCAAc,GAApB,UAAqB,KAAK;;;;;4BACV,qBAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;4BAC9C,OAAO,EAAE,SAAS,GAAE,KAAK;4BACzB,QAAQ,EAAE,QAAQ;4BAClB,QAAQ,EAAE,IAAI;yBACf,CAAC;;wBAJI,KAAK,GAAG,SAIZ;wBACF,KAAK,CAAC,OAAO,EAAE,CAAC;;;;;KACjB;IAED,0BAAK,GAAL,UAAM,CAAC;QACL,IAAG,CAAC,CAAC,OAAO,IAAI,EAAE,EAAC;YACjB,IAAI,CAAC,OAAO,EAAE,CAAC;SAChB;IACH,CAAC;IA7EU,UAAU;QANtB,+DAAS,CAAC;YACT,QAAQ,EAAE,YAAY;YACtB,kGAAiC;;SAElC,CAAC;+EAa2B,sEAAa;YACrB,sDAAM;YACC,8DAAe;YACrB,sDAAQ;OAdjB,UAAU,CA+EtB;IAAD,iBAAC;CAAA;AA/EsB","file":"pages-sesion-sesion-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SesionPage } from './sesion.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SesionPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [SesionPage]\r\n})\r\nexport class SesionPageModule {}\r\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\"> \\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content padding>\\r\\n    <div class=\\\"logo\\\">\\r\\n        <img src=\\\"../../assets/img/EstoCuadro.png\\\" alt=\\\"logo Estor\\\">\\r\\n      </div>\\r\\n\\r\\n\\r\\n      <div class=\\\"registrar\\\">\\r\\n        <h2 text-center class=\\\"titulo\\\">Ingresa tu información</h2>\\r\\n        \\r\\n        <ion-input #swiper (keyup)=\\\"enter($event)\\\" [(ngModel)]=\\\"correo\\\" class=\\\"input\\\" placeholder=\\\"Correo electronico\\\" type=\\\"email\\\">\\r\\n        <ion-icon name=\\\"person\\\"></ion-icon> </ion-input>    \\r\\n      \\r\\n      </div>\\r\\n        <div class=\\\"pass\\\">\\r\\n        <ion-input (keyup)=\\\"enter($event)\\\" [type]=\\\"passType\\\" [(ngModel)]=\\\"password\\\" class=\\\"input\\\" placeholder=\\\"Contraseña\\\" type=\\\"password\\\">\\r\\n        <ion-icon name=\\\"key\\\"></ion-icon> </ion-input> \\r\\n\\r\\n        <ion-button class=\\\"eye\\\" color=\\\"light\\\" (click)=\\\"cambiarIcono()\\\">\\r\\n              <ion-icon slot=\\\"icon-only\\\" name=\\\"{{icono}}\\\"></ion-icon>\\r\\n          </ion-button>\\r\\n          </div>\\r\\n\\r\\n        <ion-button class=\\\"botonEntrar\\\" size=\\\"small\\\" expand=\\\"full\\\" (click)=\\\"iniciar()\\\">Entrar</ion-button>\\r\\n        <ion-button class=\\\"botonRec\\\" size=\\\"small\\\" expand=\\\"full\\\" fill=\\\"clear\\\"  routerLink=\\\"/registro\\\">¿Olvidaste tu contraseña?</ion-button>\\r\\n\\r\\n      </ion-content>\\r\\n\"","module.exports = \".toolbarBack {\\n  --background: rgb(250, 250, 250); }\\n\\n.logo img {\\n  width: 90%;\\n  margin: 0 auto;\\n  display: block; }\\n\\n.titulo {\\n  font-size: 18px;\\n  margin-bottom: 40px; }\\n\\n.input {\\n  border: 1px solid #a5a5a5;\\n  border-radius: 5px;\\n  width: 65%;\\n  margin: 0px auto;\\n  margin-bottom: 15px;\\n  text-align: left;\\n  -moz-border-radius: 5px;\\n  -webkit-border-radius: 5px; }\\n\\n.boton:first-of-type {\\n  margin-top: center; }\\n\\n.botonEntrar {\\n  width: 65%;\\n  margin: 10px auto 25px auto;\\n  font-size: 16px; }\\n\\n.botonRec {\\n  width: 70%;\\n  margin: 0 auto 25px auto;\\n  font-size: 16px;\\n  position: relative; }\\n\\n.pass {\\n  position: relative; }\\n\\n.eye {\\n  --padding-start: 0;\\n  --padding-end: 0;\\n  position: absolute;\\n  top: 0;\\n  right: 8%;\\n  width: 35px;\\n  height: 35px; }\\n\\n.input ion-icon {\\n  right: 50px;\\n  color: lightgrey; }\\n\\n.error {\\n  color: red; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvc2VzaW9uL0M6XFxVc2Vyc1xcQWRtaW5pc3RyYXRvclxcRGVza3RvcFxcQ2xpZW50ZUZpbmFsXFxDbGllbnRlTGFzdC9zcmNcXGFwcFxccGFnZXNcXHNlc2lvblxcc2VzaW9uLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdDQUFhLEVBQUE7O0FBR2pCO0VBQ0ksVUFBVTtFQUNWLGNBQWM7RUFDZCxjQUFjLEVBQUE7O0FBR2xCO0VBQ0ksZUFBZTtFQUNmLG1CQUFtQixFQUFBOztBQUd2QjtFQUNJLHlCQUFvQztFQUNwQyxrQkFBa0I7RUFDbEIsVUFBVTtFQUNWLGdCQUFnQjtFQUNoQixtQkFBbUI7RUFDbkIsZ0JBQWdCO0VBRWhCLHVCQUF1QjtFQUN2QiwwQkFBMEIsRUFBQTs7QUFJOUI7RUFDSSxrQkFBa0IsRUFBQTs7QUFHdEI7RUFFSSxVQUFVO0VBQ1YsMkJBQTJCO0VBQzNCLGVBQWUsRUFBQTs7QUFHbkI7RUFDSSxVQUFVO0VBQ1Ysd0JBQXdCO0VBQ3hCLGVBQWU7RUFDZixrQkFBa0IsRUFBQTs7QUFLdEI7RUFDSSxrQkFBa0IsRUFBQTs7QUFHdEI7RUFDSSxrQkFBZ0I7RUFDaEIsZ0JBQWM7RUFDZCxrQkFBa0I7RUFDbEIsTUFBTTtFQUNOLFNBQVM7RUFDVCxXQUFXO0VBQ1gsWUFBWSxFQUFBOztBQUdoQjtFQUNJLFdBQVc7RUFDWCxnQkFBZ0IsRUFBQTs7QUFHcEI7RUFFQSxVQUFTLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9zZXNpb24vc2VzaW9uLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi50b29sYmFyQmFja3tcclxuICAgIC0tYmFja2dyb3VuZDogcmdiKDI1MCwgMjUwLCAyNTApO1xyXG59XHJcblxyXG4ubG9nbyBpbWd7XHJcbiAgICB3aWR0aDogOTAlO1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxufVxyXG5cclxuLnRpdHVsb3tcclxuICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDQwcHg7XHJcbn1cclxuXHJcbi5pbnB1dHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYigxNjUsIDE2NSwgMTY1KTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIHdpZHRoOiA2NSU7XHJcbiAgICBtYXJnaW46IDBweCBhdXRvO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxuICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcblxyXG4gICAgLW1vei1ib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDVweDtcclxuXHJcbn1cclxuXHJcbi5ib3RvbjpmaXJzdC1vZi10eXBle1xyXG4gICAgbWFyZ2luLXRvcDogY2VudGVyO1xyXG59XHJcblxyXG4uYm90b25FbnRyYXJ7XHJcbiAgICBcclxuICAgIHdpZHRoOiA2NSU7XHJcbiAgICBtYXJnaW46IDEwcHggYXV0byAyNXB4IGF1dG87XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcblxyXG59XHJcbi5ib3RvblJlY3tcclxuICAgIHdpZHRoOiA3MCU7XHJcbiAgICBtYXJnaW46IDAgYXV0byAyNXB4IGF1dG87XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcblxyXG59XHJcblxyXG5cclxuLnBhc3N7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbn1cclxuXHJcbi5leWV7XHJcbiAgICAtLXBhZGRpbmctc3RhcnQ6IDA7XHJcbiAgICAtLXBhZGRpbmctZW5kOiAwO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgcmlnaHQ6IDglO1xyXG4gICAgd2lkdGg6IDM1cHg7XHJcbiAgICBoZWlnaHQ6IDM1cHg7XHJcbn1cclxuXHJcbi5pbnB1dCBpb24taWNvbiB7XHJcbiAgICByaWdodDogNTBweDtcclxuICAgIGNvbG9yOiBsaWdodGdyZXk7XHJcbn1cclxuXHJcbi5lcnJvclxyXG57XHJcbmNvbG9yOnJlZDtcclxufSJdfQ== */\"","import { Component, OnInit, Renderer, ElementRef, ViewChildren} from '@angular/core';\r\nimport { EstoreService } from '../../services/estore.service';\r\nimport { Router } from '@angular/router';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport { removeDebugNodeFromIndex } from '@angular/core/src/debug/debug_node';\r\nimport { FormControl, ValidatorFn,AbstractControl } from '@angular/forms';\r\n\r\n\r\n@Component({\r\n  selector: 'app-sesion',\r\n  templateUrl: './sesion.page.html',\r\n  styleUrls: ['./sesion.page.scss']\r\n})\r\n\r\nexport class SesionPage implements OnInit {\r\n\r\n\r\n  //myForm: FormGroup;\r\n\r\n  password:any ='';\r\n  correo:any = '';\r\n  icono = \"eye\";\r\n  passType = 'password';\r\n\r\n\r\n  constructor(public estore: EstoreService, \r\n    private router : Router,\r\n    public toastController: ToastController,\r\n    private renderer: Renderer) { }\r\n    \r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  cambiarIcono(){\r\n      this.icono = this.icono == 'eye' ? 'eye-off' : 'eye';\r\n      this.passType = this.passType == 'password' ? 'text' : 'password';\r\n    \r\n  }\r\n\r\n\r\n  iniciar(){\r\n    let body= {\r\n      password: this.password,\r\n      correo: this.correo\r\n    }\r\n\r\n    let regEpr = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\r\n\r\n    if(this.correo == '' && this.password == '' ) \r\n    this.presentarToast('Capture su usuario y contraseña');\r\n    else if (this.password == ''){\r\n    this.presentarToast('Capture su contraseña');\r\n    }else if (this.correo == ''){\r\n    this.presentarToast('Capture su email');\r\n    }else if( !this.correo.match(regEpr) ){\r\n    this.presentarToast('Formato de correo invalido');\r\n    } //SI SE CAPTURO TODA LA INFORMACION REALIZA EL LOGIN\r\n    else{\r\n    this.estore.iniciarSesion(body, 'ingresar.php').subscribe((data)=>{\r\n      if(data['success'] != false){\r\n        localStorage.setItem('user',JSON.stringify(data['user']));\r\n        this.router.navigateByUrl(`/dashboard`);\r\n      }\r\n      else{\r\n        this.presentarToast(data['msg']);\r\n      }\r\n\r\n    });\r\n  }\r\n    \r\n\r\n\r\n  }\r\n  getElementById(arg0: string) {\r\n    throw new Error(\"Method not implemented.\");\r\n  }\r\n\r\n  async presentarToast(error) {\r\n    const toast = await this.toastController.create({\r\n      message: 'Error: '+ error,\r\n      position: 'bottom',\r\n      duration: 2000\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  enter(e){\r\n    if(e.keyCode == 13){\r\n      this.iniciar();\r\n    }\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}